'use strict';

var array = require('tonal-array');
var transpose = require('tonal-transpose');
var harmonizer = require('tonal-harmonizer');
var distance = require('tonal-distance');
var note = require('tonal-note');
var interval = require('tonal-interval');
var midi = require('tonal-midi');
var freq = require('tonal-freq');
var range = require('tonal-range');
var key = require('tonal-key');
var scale = require('tonal-scale');
var chord = require('tonal-chord');
var pitch = require('tonal-pitch');
var notation = require('tonal-notation');
var progression = require('tonal-progression');
var sonority = require('tonal-sonority');
var pitchset = require('tonal-pitchset');
var pcset = require('tonal-pcset');

/**
 * The `tonal` module is a facade to all the rest of the modules. They are namespaced,
 * so for example to use `pc` function from `tonal-note` you have to write:
 * `tonal.note.pc`
 *
 * Some modules are NOT namespaced for developer comfort:
 *
 * - `tonal-array`: for example `tonal.map(tonal.note.pc, 'C#2')`
 * - `tonal-transpose`: for example `tonal.transpose('C', '3M')`
 * - `tonal-distance`: for example `tonal.interval('C3', 'G4')`
 *
 * It also adds a couple of function aliases:
 *
 * - `tonal.scale` is an alias for `tonal.scale.notes`
 * - `tonal.chord` is an alias for `tonal.chord.notes`
 *
 * @example
 * var tonal = require('tonal')
 * tonal.transpose(tonal.note.pc('C#2'), 'M3') // => 'E#'
 * tonal.chord('Dmaj7') // => ['D', 'F#', 'A', 'C#']
 *
 * @module tonal
 */
var assign = Object.assign;
var tonal = assign({}, array, transpose, harmonizer, distance);
tonal.pitch = pitch;
tonal.notation = notation;
tonal.note = note;
tonal.ivl = interval;
tonal.midi = midi;
tonal.freq = freq;
tonal.range = range;
tonal.key = key;
tonal.progression = progression;
tonal.sonority = sonority;
tonal.pitchset = pitchset;
tonal.pcset = pcset;

tonal.scale = function (name) { return tonal.scale.notes(name) };
assign(tonal.scale, scale);
tonal.chord = function (name) { return tonal.chord.notes(name) };
assign(tonal.chord, chord);

if (typeof window !== 'undefined') window.Tonal = tonal;

module.exports = tonal;
